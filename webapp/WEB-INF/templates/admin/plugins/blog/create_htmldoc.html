<script src="js/plugins/blog/manage_tag.js"></script>
<@rowBoxHeader i18nTitleKey="#i18n{blog.create_htmldoc.title}">
  <form class="form-horizontal" method="post" name="create_htmldoc" enctype="multipart/form-data" action="jsp/admin/plugins/blog/ManageHtmlDocs.jsp">
    <@messages errors=errors />
    <input type="hidden" id="id" name="id"/>
    <input type="hidden" id="action" name="action" value="createHtmlDoc"/>
    <input id="tag_remove" type="hidden" name="tag_remove" value="" ></input>
    <#include "/admin/util/editor/editor.html" />
    <@fieldInputText i18nLabelKey="blog.create_htmldoc.labelContentLabel" inputName="content_label" mandatory=true value="${htmldoc.contentLabel!''}" i18nHelpBlockKey="blog.create_htmldoc.labelContentLabel.help" />

    <div class="form-group">
		<label class="col-xs-12 col-sm-3 col-md-3 col-lg-3 control-label" for="description">#i18n{blog.create_htmldoc.labelDescription}&nbsp;&nbsp;:</label>
		<div class="col-xs-12 col-sm-9 col-md-6 col-lg-6">

			   <textarea id="description" class="richtext" name="description" rows="12">   ${htmldoc.description!}    </textarea>

			<p class="help-block">#i18n{blog.create_htmldoc.labelDescription.help} (help text)</p>
		</div>
    </div>
     <div class="form-group">
		<label class="col-xs-12 col-sm-3 col-md-3 col-lg-3 control-label" for="html_content">#i18n{blog.create_htmldoc.labelEditContent}&nbsp;&nbsp;:</label>
		<div class="col-xs-12 col-sm-9 col-md-6 col-lg-6">

    	<textarea id="html_content" class="richtext" name="html_content" rows="12">     ${htmldoc.htmlContent!}  </textarea>

			<p class="help-block"></p>
		</div>
    </div>

    
    <@initEditor />
    <@fieldInputText i18nLabelKey="blog.create_htmldoc.labelEditComment" inputName="edit_comment" mandatory=false value="${blog.editComment!''}" i18nHelpBlockKey="blog.create_htmldoc.labelEditComment.help" />
	<@fieldInputCheckBox i18nLabelKey="blog.create_htmldoc.labelShareable" inputName="shareable" value="true" disabled=false checked=false i18nHelpBlockKey='blog.create_htmldoc.labelShareable.help' cssClass='' />
	<div class="form-group">
	<label class="col-xs-12 col-sm-3 col-md-3 col-lg-3 control-label" for="attachment">Piece jointe</label>
	<div class="col-xs-12 col-sm-9 col-md-6 col-lg-6">
		<input tabindex="-1" style="position: absolute; clip: rect(0px, 0px, 0px, 0px);" class="filestyle" name="attachment" id="attachment" type="file">
		
	</div>
    </div>
   

    <@actionButtons button1Name="action_createHtmlDoc" button2Name="view_manageHtmlDocs"/>
  </form>
 <div class="form-group" style="position: absolute; top: 0px; right: 0px;">
	        <div class="">	
		<label class=" control-label" for="description">Tag&nbsp;&nbsp;:</label>

  		<@comboWithParams name="tag_doc" default_value="" additionalParameters="class=\"input-xxlarge\"" items=list_tag />
		<button type="submit" value="addTag" name="addTag" class="btn btn-primary btn-sm btn-flat" onClick="addIdEntry()">
			<i class="glyphicon glyphicon-ok-circle"></i>&nbsp;
		</button>

    		<p id="tag" class="help-block"></p>
		 <#list htmldoc.tag as tg>
		<div id="${tg.idTag}">
				${tg.name!}
				<button class="btn btn-primary btn-xs btn-flat"  title="Descendre" onClick="doUpdatePriorityTag(${tg.idTag}, 'moveDown' );">
									<i class="glyphicon glyphicon-arrow-down"></i>
				</button>
				<button class="btn btn-primary btn-xs btn-flat"  title="Monter" onClick="doUpdatePriorityTag(${tg.idTag}, 'moveUp');">
									<i class="glyphicon glyphicon-arrow-up"></i>
				</button>
				<button  type="submit" value="removeTag" name="removeTag" class="btn btn-danger btn-small" onClick="removeEntry(${tg.idTag}, '${tg.name!}');">
					<i class="fa fa-trash"></i>&nbsp;
	   			</button>
		</div>	

		</#list>
	</div>
    </div>
</@rowBoxHeader>
